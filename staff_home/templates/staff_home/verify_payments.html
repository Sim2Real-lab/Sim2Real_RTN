{% extends "staff_home/staff_base.html" %}
{% block extra_styles %}
<style>
    .payment-card {
        background: rgba(30, 30, 40, 0.95);
        padding: 20px;
        margin: 20px auto;
        border-radius: 12px;
        max-width: 700px;
        color: #fff;
        box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }

    .payment-card h3 {
        margin-bottom: 15px;
        font-size: 20px;
        font-weight: 600;
    }

    .screenshot {
        margin: 15px 0;
        text-align: center;
    }

    .screenshot img {
        max-width: 100%;
        max-height: 350px;
        border-radius: 8px;
        border: 1px solid #444;
    }

    .actions {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 15px;
    }

    .btn-verify {
        background: #28a745;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        color: #fff;
        cursor: pointer;
        font-weight: 600;
    }

    .btn-reject {
        background: #dc3545;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        color: #fff;
        cursor: pointer;
        font-weight: 600;
    }

    .btn-verify:hover { background: #218838; }
    .btn-reject:hover { background: #c82333; }
</style>
{% endblock %}

{% block content %}
<div class="payment-card">
    <h3>Payment Proof – Team {{ team.name }}</h3>
    <p><strong>Reference No:</strong> {{ team.payment_reference }}</p>
    <p><strong>Status:</strong> 
        {% if team.is_verified %}
            ✅ Verified
        {% elif team.is_paid %}
            ⏳ Pending Verification
        {% else %}
            ❌ Not Submitted
        {% endif %}
    </p>

    {% if team.payment_screenshot %}
    <div class="screenshot">
        <img src="{{ team.payment_screenshot.url }}" alt="Payment Screenshot">
    </div>
    {% endif %}

    <div class="actions">
        <form method="post" action="{% url 'verify_payment' team.id %}">
            {% csrf_token %}
            <button class="btn-verify" type="submit">✔ Verify</button>
        </form>

        <form method="post" action="{% url 'reject_payment' team.id %}">
            {% csrf_token %}
            <button class="btn-reject" type="submit">✖ Reject</button>
        </form>
    </div>
</div>
{% endblock %}
